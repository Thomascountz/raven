<!doctype html>
<html>
  <head>
    <title>Raven</title>
    <link rel="stylesheet" href="styles.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  </head>
  <body>
    <div class="container">
      <h1 id="title">Raven</h1>
      <button type="button" id="generate-keys">âš  Revoke & Regenerate Keys</button>
      <div id="feedback" class="toast"></div>
      <div
        id="key-regeneration-warning"
        class="human-centric-alert"
        role="alert"
        style="display: none"
      >
        <h2>Heads Up!</h2>
        <p>
          Revoking and regenerating your keys will permanently disable your current encryption
          keys and create new ones. This means:
        </p>
        <ul>
          <li>Any previous messages encrypted with your old keys won't be readable anymore.</li>
          <li>
            You'll need to share your new public key with others to receive encrypted messages.
          </li>
        </ul>
        <p>Only proceed if you're sure you want to start fresh with a new set of keys.</p>
        <button type="button" onclick="confirmKeyRegeneration()">I Understand, Continue</button>
        <button type="button" onclick="cancelKeyRegeneration()">Cancel</button>
      </div>
      <div id="key-info" class="url-container" title="Your sharable public key URL">
        <span id="public-key-url" class="url-textbox"
          >Your public key URL will appear here</span
        >
        <button type="button" class="copy-button" id="copy-public-key-url">Copy</button>
      </div>
      <div id="decrypted-message-container" style="display: none">
        <h3>Incoming Message</h3>
        <textarea rows="8" id="decrypted-message" readonly></textarea>
      </div>
      <div id="message-container" style="display: none">
        <h3>Your Message</h3>
        <textarea rows="8" id="message" maxlength="190" placeholder="Enter your message"></textarea>
        <div id="char-count">0/190</div>
        <div
          id="include-public-key-container"
          title="Enable this option to append your public key to the encrypted message URL, allowing recipients to easily reply to your message"
        >
          <label for="include-public-key" class="include-public-key-label">
            <input
              type="checkbox"
              id="include-public-key"
              name="include-public-key"
              class="include-public-key-checkbox"
            />
            Include Public Key
          </label>
        </div>
        <button type="button" id="encrypt-message" class="form-button">Encrypt Message</button>
      </div>
      <div id="encrypted-message-container" class="url-container" style="display: none">
        <span id="encrypted-message-url" class="url-textbox"></span>
        <button type="button" class="copy-button" id="copy-encrypted-message-url">Copy</button>
      </div>
    </div>

    <script src="app.js"></script>
  </body>
</html>
